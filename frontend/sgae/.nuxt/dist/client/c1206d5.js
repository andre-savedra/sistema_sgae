(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{442:function(e,t,r){e.exports=r.p+"img/sgae.03350ec.png"},443:function(e,t,r){"use strict";var n=r(12);r(66);t.a={asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$auth,e.$router,t.next=3,r.$storage.getUniversal("actualUserStoraged");case 3:if(!(n=t.sent)){t.next=8;break}return console.log("Storaged already defined extends"),console.log(n),t.abrupt("return",{actualUser:n});case 8:case"end":return t.stop()}}),t)})))()}}},444:function(e,t,r){"use strict";r(272)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(273))},464:function(e,t,r){var content=r(520);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(11).default)("216c1b10",content,!0,{sourceMap:!1})},519:function(e,t,r){"use strict";r(464)},520:function(e,t,r){var n=r(10)(!1);n.push([e.i,".accessPanel[data-v-6e171116]{height:100vh;width:50%;background-color:#313131;color:#fff;overflow-y:hidden}.accessForm[data-v-6e171116]{height:auto;min-height:100vh;max-height:100vh;width:50%;box-sizing:border-box;display:flex;padding:30px 0 20px}.accessForm .stars1[data-v-6e171116],.accessForm .stars2[data-v-6e171116],.accessForm .stars3[data-v-6e171116]{display:none}.formulario_access[data-v-6e171116]{overflow-y:auto;box-sizing:border-box;width:100%;height:auto}.registerForm[data-v-6e171116]{width:65%;height:auto;padding:20px;margin-bottom:20px;border:2px solid #dc3d3d;border-radius:3px;box-shadow:0 10px 13px -7px #000,5px 5px 15px 5px transparent}.registerForm[data-v-6e171116]::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.9);border-radius:10px;background-color:#ccc}.registerForm[data-v-6e171116]::-webkit-scrollbar{width:12px;background-color:#f5f5f5}.registerForm[data-v-6e171116]::-webkit-scrollbar-thumb{border-radius:10px;background-color:#d62929;background-image:-webkit-linear-gradient(90deg,transparent,rgba(0,0,0,.4) 50%,transparent,transparent)}#myTitle[data-v-6e171116]{display:flex;align-items:center;justify-content:center;text-align:center;height:auto;margin-bottom:20px;font-size:28px;overflow-y:hidden}.inputRegisterContainer[data-v-6e171116]{height:100%}.Registro[data-v-6e171116]{height:auto;width:100%}img[data-v-6e171116]{margin-top:0;align-items:center;display:flex;width:65%;height:45%}.formulario_access .btn_enviar[data-v-6e171116]{background-color:#dc3d3d;color:#fff;border:none;justify-content:center;align-self:center;text-align:center;align-items:center;display:flex;height:50px;width:600px;margin-top:20px;cursor:pointer}.formulario_access .btn_enviar[data-v-6e171116]:hover{background-color:#e05e5e}.formulario_access .btn_enviar[data-v-6e171116]:disabled{background-color:#d38f8f}.linksRegister[data-v-6e171116]{font-size:14px}.linksRegister .backBtn[data-v-6e171116]{width:100px;padding:0;margin:10px 0 0 5px}.linksRegister .resetPswBtnRegister[data-v-6e171116]{width:165px;padding:0;margin:10px 5px 0 0}.linksRegister .p-button .p-button-icon-left[data-v-6e171116]{margin:0!important;width:25px}.inputRegisterContainer[data-v-6e171116]{display:flex;flex-direction:column;justify-content:center;position:relative;width:100%;line-height:34px}.lblRegister #lblsenhaRegister[data-v-6e171116]{width:100%;color:#d3d3d3}.p-input-icon-right i[data-v-6e171116]{width:15px;display:flex;align-items:flex-end;justify-content:flex-end}#fullname[data-v-6e171116],#mail[data-v-6e171116],#name[data-v-6e171116],#phone[data-v-6e171116],.basicInputRegister[data-v-6e171116]{width:100%;border:0;border-bottom:2px solid #000;font-size:18px;box-shadow:none}#fullname[data-v-6e171116]:focus,#fullname[data-v-6e171116]:hover,#fullname[data-v-6e171116]:valid,#mail[data-v-6e171116]:focus,#mail[data-v-6e171116]:hover,#mail[data-v-6e171116]:valid,#name[data-v-6e171116]:focus,#name[data-v-6e171116]:hover,#name[data-v-6e171116]:valid,#phone[data-v-6e171116]:focus,#phone[data-v-6e171116]:hover,#phone[data-v-6e171116]:valid,.basicInputRegister[data-v-6e171116]:focus,.basicInputRegister[data-v-6e171116]:hover,.basicInputRegister[data-v-6e171116]:valid{outline:0;background-color:#fff;box-shadow:none;border-color:none}.dropdownRegister[data-v-6e171116]{width:100%;overflow-x:visible}.dropdownRegister #cargo[data-v-6e171116]{overflow-x:visible;box-shadow:none;border:0;border-bottom:1px solid #000;font-size:18px}.dropdownRegister #cargo[data-v-6e171116]:hover{border-color:#c22a1f!important}.dropdownRegister #cargo .p-dropdown-panel[data-v-6e171116]{border:1px solid #c22a1f}.dropdownRegister #cargo .p-dropdown-panel li[data-v-6e171116]{padding:3px 10px}.dropdownRegister #cargo .p-dropdown-panel li[data-v-6e171116]:hover{background-color:#f59993!important}html[data-v-6e171116]{height:100vh;overflow:hidden}@media screen and (max-width:990px){.accessPanel h1[data-v-6e171116]{max-width:80%;font-size:18px}.accessPanel p[data-v-6e171116]{font-size:11px}.registerForm[data-v-6e171116]{width:75%}.registerForm .linksRegister .backBtn[data-v-6e171116]{font-size:12px}.registerForm .linksRegister .resetPswBtnRegister[data-v-6e171116]{font-size:12px;width:125px}}@media screen and (max-width:806px){.accessPanel img[data-v-6e171116]{width:65%;height:40%}.accessPanel h1[data-v-6e171116]{font-size:18px}.registerForm[data-v-6e171116]{width:82%}.registerForm .linksRegister .backBtn[data-v-6e171116]{font-size:12px}.registerForm .linksRegister .resetPswBtnRegister[data-v-6e171116]{font-size:12px;width:90px}}@media screen and (max-width:700px){.accessPanel h1[data-v-6e171116]{max-width:80%;font-size:16px}.accessPanel p[data-v-6e171116]{font-size:10px}.registerForm[data-v-6e171116]{height:auto}}@media screen and (max-width:760px){h5[data-v-6e171116],img[data-v-6e171116]{display:none}.accessPanel[data-v-6e171116]{display:none;width:0}.accessForm[data-v-6e171116]{width:100%;overflow-y:hidden}}@media screen and (max-width:440px){.registerForm[data-v-6e171116]{width:100%}}",""]),e.exports=n},551:function(e,t,r){"use strict";r.r(t);var n,o,l,d,c=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"\n      accessPanel\n      p-d-flex p-flex-column p-jc-center p-ai-center p-text-center\n    "},[n("img",{attrs:{src:r(442)}}),e._v(" "),n("h1",[e._v("Sistema de Gestão de Ambiente de Ensino")]),e._v(" "),n("p",[e._v("® Senai Roberto Mange")]),e._v(" "),n("div",{staticClass:"stars1"}),e._v(" "),n("div",{staticClass:"stars2"}),e._v(" "),n("div",{staticClass:"stars3"})])}],h=r(12),v=(r(37),r(271),r(35),r(9),r(444),r(66),{extends:r(443).a,layout:"login",name:"meuAcesso",middleware:"auth",data:function(){return{btnInitialLabel:"Sua foto aqui",btnUploadLabel:"Sua foto aqui",btnDisabled:!1,passwordConfirm:null,userAuth:{new_password:null,re_new_password:null,current_password:null},userSec:[{nome:null,idUserFK:null,email:null,fone:null,ativo:!1,idNivelAcessoFK:null}],userPhoto:null,newDataUser:null}},methods:{backPage:function(){this.$router.push("/tarefas")},postChangeUser:(d=Object(h.a)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.$post(this.$store.state.BASE_URL+"api/v1/users/set_password/",JSON.stringify(this.userAuth),{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e),alert("Problema ao alterar senha: "+e),t.btnDisabled=!1,t.btnUploadLabel=t.btnInitialLabel,t.userPhoto=null}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)}),putUsuario:(l=Object(h.a)(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.userPhoto||null===this.userPhoto){e.next=12;break}(t=new FormData).append("nome",this.userSec[0].nome),t.append("idUserFK",this.userSec[0].idUserFK),t.append("email",this.userSec[0].email),t.append("fone",this.userSec[0].fone),t.append("ativo",!1),t.append("idNivelAcessoFK",this.userSec[0].idNivelAcessoFK),t.append("image",this.userPhoto[0]),this.$axios.$post(this.$store.state.BASE_URL+"cadastroUsuario/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),void 0!==e.msg&&alert(e.msg),r.btnDisabled=!1,r.btnUploadLabel=r.btnInitialLabel,r.userPhoto=null,r.$router.push("/")})).catch((function(e){alert("Problema ao tentar registrar usuário"),r.btnDisabled=!1,r.btnUploadLabel=r.btnInitialLabel,r.userPhoto=null,console.log(e)})),e.next=15;break;case 12:return console.log("PUTINZINHO"),e.next=15,this.$axios.$put(this.$store.state.BASE_URL+"usuarios/"+this.actualUser.id+"/?change",JSON.stringify(this.userSec),{headers:{"Content-Type":"application/json"}}).then((function(e){r.btnDisabled=!1,null!==e.msg&&void 0!==e.msg&&alert(e.msg)})).catch((function(e){alert("Problema ao tentar registrar usuário"),r.btnDisabled=!1,console.log(e)}));case 15:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)}),postPhoto:(o=Object(h.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("postPhoto"),console.log(t),this.userPhoto=t.files,console.log("userPhoto:"),console.log(this.userPhoto),this.userPhoto[0].name&&(this.btnUploadLabel=this.userPhoto[0].name);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)}),sendRegister:(n=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("tentando alterar registro...."),this.userAuth.new_password&&(this.userAuth.new_password===this.userAuth.re_new_password?null!==this.userAuth.current_password?(this.btnDisabled=!0,this.postChangeUser()):(alert("Campos Senha atual deve ser preenchido!"),this.btnDisabled=!1):(alert("Campos Senha e Confirmação de Senha não estão iguais"),this.btnDisabled=!1));case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},created:function(){null===this.actualUser||void 0===this.actualUser?this.$router.push("/lobby"):this.newDataUser=structuredClone(this.actualUser)}}),m=v,f=(r(519),r(2)),component=Object(f.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{staticClass:"Registro p-d-flex p-flex-row p-jc-center p-ai-center"},[e._m(0),e._v(" "),r("section",{staticClass:"accessForm p-d-flex p-flex-column p-jc-center p-ai-center"},[r("div",{staticClass:"stars1"}),e._v(" "),r("div",{staticClass:"stars2"}),e._v(" "),r("div",{staticClass:"stars3"}),e._v(" "),r("div",{staticClass:"\n        formulario_access\n        p-d-flex p-flex-column p-jc-center p-ai-center\n      "},[r("h1",{attrs:{id:"myTitle"}},[e._v("SEU CADASTRO")]),e._v(" "),r("form",{staticClass:"registerForm",attrs:{action:""},on:{submit:function(t){return t.preventDefault(),e.sendRegister()}}},[r("div",{staticClass:"inputRegisterContainer"},[r("div",{staticClass:"inputComboRegister"},[r("label",{staticClass:"lblRegister",attrs:{for:"fullname"}},[e._v("NOME")]),e._v(" "),r("InputText",{staticClass:"basicInputRegister",attrs:{type:"text",id:"fullname",placeholder:"Nome Completo",required:""},model:{value:e.newDataUser.nome,callback:function(t){e.$set(e.newDataUser,"nome",t)},expression:"newDataUser.nome"}})],1),e._v(" "),r("div",{staticClass:"inputComboRegister"},[r("label",{staticClass:"lblRegister",attrs:{for:"mail"}},[e._v("EMAIL")]),e._v(" "),r("InputText",{staticClass:"basicInputRegister",attrs:{type:"email",id:"mail",placeholder:"Email",required:""},model:{value:e.newDataUser.email,callback:function(t){e.$set(e.newDataUser,"email",t)},expression:"newDataUser.email"}})],1),e._v(" "),r("div",{staticClass:"inputComboRegister field col-12 md:col-4"},[r("label",{staticClass:"lblRegister",attrs:{for:"phone"}},[e._v("CELULAR")]),e._v(" "),r("InputMask",{staticClass:"basicInputRegister",attrs:{mask:"(99) 99999-9999",id:"phone",placeholder:"(99) 9.9999-9999",required:""},model:{value:e.newDataUser.fone,callback:function(t){e.$set(e.newDataUser,"fone",t)},expression:"newDataUser.fone"}})],1),e._v(" "),r("div",{staticClass:"inputComboRegister"},[r("label",{staticClass:"lblRegister",attrs:{for:"photo"}},[e._v("FOTO")]),e._v(" "),r("FileUpload",{staticClass:"customAvatarUpload",attrs:{auto:!0,chooseLabel:e.btnUploadLabel,mode:"basic",accept:"image/jpeg,image/png",maxFileSize:1e7,id:"avatarUpload",invalidFileTypeMessage:"Formato da imagem inválido, formato deve ser JPG ou PNG!!!",invalidFileSizeMessage:"Tamanho da imagem excedido, limite é 10MB!"},on:{upload:e.postPhoto}}),e._v(" "),r("span",[e._v("Foto atual: ")]),e._v(" "),this.newDataUser.image?r("a",{attrs:{target:"_blank",href:e.$store.state.BASE_URL_IMG+e.newDataUser.image}},[e._v(e._s(this.newDataUser.image))]):r("a",{attrs:{href:"#"}},[e._v(" N/A ")])],1),e._v(" "),r("div",{staticClass:"inputComboRegister compPasswordRegister"},[r("label",{staticClass:"lblRegister",attrs:{for:"senhaRegister"}},[e._v("SENHA ATUAL")]),e._v(" "),r("Password",{staticClass:"passInputRegister",attrs:{id:"senhaRegister",toggleMask:"",placeholder:"Senha atual"},model:{value:e.userAuth.current_password,callback:function(t){e.$set(e.userAuth,"current_password",t)},expression:"userAuth.current_password"}})],1),e._v(" "),r("div",{staticClass:"inputComboRegister compPasswordRegister"},[r("label",{staticClass:"lblRegister",attrs:{for:"senhaRegister"}},[e._v("NOVA SENHA")]),e._v(" "),r("Password",{staticClass:"passInputRegister",attrs:{id:"senhaRegister",toggleMask:"",placeholder:"Senha nova"},model:{value:e.userAuth.new_password,callback:function(t){e.$set(e.userAuth,"new_password",t)},expression:"userAuth.new_password"}})],1),e._v(" "),r("div",{staticClass:"inputComboRegister compPasswordRegister"},[r("label",{staticClass:"lblRegister",attrs:{for:"senhaRegister2"}},[e._v("CONFIRME A SENHA")]),e._v(" "),r("Password",{staticClass:"passInputRegister",attrs:{id:"senhaRegister2",toggleMask:"",placeholder:"Confirme a Senha nova"},model:{value:e.userAuth.re_new_password,callback:function(t){e.$set(e.userAuth,"re_new_password",t)},expression:"userAuth.re_new_password"}})],1),e._v(" "),r("div",{staticClass:"linksRegister p-d-flex p-jc-between"},[r("Button",{staticClass:"backBtn p-button-text p-button-danger",attrs:{icon:"pi pi-arrow-left",label:"Voltar"},on:{click:function(t){return e.backPage()}}})],1),e._v(" "),r("button",{staticClass:"btn_enviar",attrs:{type:"submit",disabled:e.btnDisabled}},[e._v("\n            ATUALIZAR\n          ")])])])])])])}),c,!1,null,"6e171116",null);t.default=component.exports}}]);